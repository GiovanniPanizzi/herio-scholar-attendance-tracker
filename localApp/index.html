<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Registro Presenze</title>
</head>
<body>
    <header>
        Registro Presenze
        <button id="addClassBtn">+</button>
    </header>
    
    <main>
        <!-- Lista classi -->
        <div class="classes-grid" id="classesGrid"></div>

        <!-- Modal creazione classe -->
        <div id="modalOverlay" class="modal-overlay">
            <div id="modal" class="modal">
                <input type="text" id="newClassName" placeholder="Nome classe" />
                <button id="createClassBtn">Crea Classe</button>
            </div>
        </div>

        <!-- Dettaglio classe -->
        <div id="classDetail" style="display:none;">
            <h2 id="className"></h2>
            <button id="backToClasses">‚Üê Torna alle classi</button>
            <button id="studentsViewBtn">Mostra studenti</button>
            <button id="lectionsViewBtn">Mostra lezioni</button>

            <div id="studentsView">
                <h3>Studenti</h3>
                <button id="addStudentBtn">Aggiungi Studente</button>
                <ul id="studentList"></ul>
                <button class="backToClass">Torna alla classe</button>
            </div>
            <div id="lectionsView">
                <h3>Lezioni</h3>
                <button id="createLessonBtn">Crea Lezione</button>
                <ul id="lezioniList"></ul>
                <button class="backToClass">Torna alla classe</button>
            </div>
        </div>

        <!-- Modal aggiunta studente -->
        <div id="studentModalOverlay" class="modal-overlay" style="display:none;">
            <div id="studentModal" class="modal">
                <input type="text" id="studentMatricola" placeholder="Matricola" />
                <input type="text" id="studentName" placeholder="Nome" />
                <input type="text" id="studentSurname" placeholder="Cognome" />
                <button id="createStudentBtn">Aggiungi Studente</button>
            </div>
        </div>

        <!-- Modal creazione lezione -->
        <div id="lessonModalOverlay" class="modal-overlay" style="display:none;">
            <div id="lessonModal" class="modal">
                <input type="datetime-local" id="lessonDateTime" />
                <button id="confirmLessonBtn">Crea</button>
            </div>
        </div>

        <!-- Modal presenze studenti -->
        <div id="attendanceModalOverlay" class="modal-overlay" style="display:none;">
            <div id="attendanceModal" class="modal">
                <h2 id="attendanceTitle"></h2>
                <button id="scanQRBtn">QR</button>
                <ul id="attendanceList"></ul>
                <button id="closeAttendanceBtn">Chiudi</button>
            </div>
        </div>

        <!-- Overlay QR Token -->
        <div id="qrTokenOverlay" class="modal-overlay">
            <div class="qr-container">
                <div id="qrTimer">25s</div>
                <div id="qrToken">---</div>
                <div id="qrCode"></div>
                <div id="qrStatus"></div>
                <button id="closeQRBtn">Chiudi</button>
            </div>
        </div>


    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

    <script src="app.js"></script>
</body>
</html>